{
  "swagger": "2.0",
  "info": {
    "description": "Описание вашего API",
    "version": "1.0.0",
    "title": "API Title"
  },
  "host": "89.110.92.120:8080",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/bank-account-service/{id}": {
      "get": {
        "tags": [
          "Bank Account Service"
        ],
        "summary": "Get bank account by ID",
        "operationId": "getBankAccount",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the bank account to retrieve",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved bank account",
            "schema": {
              "$ref": "#/definitions/BankAccountDTO"
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/bank-account-service/{id}/update": {
      "patch": {
        "tags": [
          "Bank Account Service"
        ],
        "summary": "Update bank account by ID",
        "operationId": "updateBankAccount",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the bank account to update",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "bankAccountUpdated",
            "in": "body",
            "description": "Updated bank account details",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccount"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Bank account updated successfully"
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/bank-account-service/{id}/delete": {
      "delete": {
        "tags": [
          "Bank Account Service"
        ],
        "summary": "Delete bank account by ID",
        "operationId": "deleteBankAccount",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the bank account to delete",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "202": {
            "description": "Bank account deleted successfully"
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/bank-account-service/{id}/get-cards": {
      "get": {
        "tags": [
          "Bank Account Service"
        ],
        "summary": "Get all cards for a bank account",
        "operationId": "getAllCards",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the bank account to retrieve cards for",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved cards",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Card"
              }
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/bank-account-service/{id}/get-deposits": {
      "get": {
        "tags": [
          "Bank Account Service"
        ],
        "summary": "Get all deposits for a bank account",
        "operationId": "getAllDeposits",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the bank account to retrieve deposits for",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved deposits",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Deposit"
              }
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/bank-account-service/{id}/get-credits": {
      "get": {
        "tags": [
          "Bank Account Service"
        ],
        "summary": "Get all credits for a bank account",
        "operationId": "getAllCredits",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the bank account to retrieve credits for",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved credits",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Credit"
              }
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/card-service": {
      "get": {
        "tags": [
          "Card Service"
        ],
        "summary": "Get all cards for a bank account",
        "operationId": "getAllCards",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "idBankAccount",
            "in": "body",
            "description": "Bank account to retrieve cards for",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccount"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved cards",
            "schema": {
              "type": "string"
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/card-service/create": {
      "post": {
        "tags": [
          "Card Service"
        ],
        "summary": "Create a new card for a bank account",
        "operationId": "createCard",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "idBankAccount",
            "in": "body",
            "description": "Bank account ID to create card for",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccountIdDTO"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Card created successfully"
          },
          "400": {
            "description": "Invalid input data"
          }
        }
      }
    },
    "/card-service/{id}/delete": {
      "delete": {
        "tags": [
          "Card Service"
        ],
        "summary": "Delete a card by ID",
        "operationId": "deleteCurrentCard",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the card to delete",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Card deleted successfully"
          },
          "404": {
            "description": "Card not found"
          }
        }
      }
    },
    "/card-service/{id}/cash-in": {
      "patch": {
        "tags": [
          "Card Service"
        ],
        "summary": "Cash in to a card by ID",
        "operationId": "cashIn",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the card to cash in",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to cash in",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to cash in from",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cash in successful",
            "schema": {
              "type": "object",
              "properties": {
                "balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Card not found"
          }
        }
      }
    },
    "/card-service/{id}/cash-out": {
      "patch": {
        "tags": [
          "Card Service"
        ],
        "summary": "Cash out from a card by ID",
        "operationId": "cashOut",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the card to cash out",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to cash out",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to cash out to",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cash out successful",
            "schema": {
              "type": "object",
              "properties": {
                "balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Card not found"
          }
        }
      }
    },
    "/card-service/{id}/send": {
      "patch": {
        "tags": [
          "Card Service"
        ],
        "summary": "Send money from one card to another",
        "operationId": "send",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the card to send money from",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to send",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to send money to",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Money sent successfully",
            "schema": {
              "type": "object",
              "properties": {
                "balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Card not found"
          }
        }
      }
    },
    "/credit-service": {
      "get": {
        "tags": [
          "Credit Service"
        ],
        "summary": "Get all credits for a bank account",
        "operationId": "getAllCredits",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "idBankAccount",
            "in": "body",
            "description": "Bank account to retrieve credits for",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccount"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved credits",
            "schema": {
              "type": "string"
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/credit-service/create": {
      "post": {
        "tags": [
          "Credit Service"
        ],
        "summary": "Create a new credit for a bank account",
        "operationId": "createCredit",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "idBankAccount",
            "in": "body",
            "description": "Bank account ID to create credit for",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccountIdDTO"
            }
          },
          {
            "name": "creditTerm",
            "in": "query",
            "description": "Credit term in months",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "201": {
            "description": "Credit created successfully"
          },
          "400": {
            "description": "Invalid input data"
          }
        }
      }
    },
    "/credit-service/{id}/delete": {
      "delete": {
        "tags": [
          "Credit Service"
        ],
        "summary": "Delete a credit by ID",
        "operationId": "deleteCredit",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the credit to delete",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Credit deleted successfully"
          },
          "404": {
            "description": "Credit not found"
          }
        }
      }
    },
    "/credit-service/{id}/cash-in": {
      "patch": {
        "tags": [
          "Credit Service"
        ],
        "summary": "Cash in to a credit from a card",
        "operationId": "cashIn",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the credit to cash in",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to cash in",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to cash in from",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cash in successful",
            "schema": {
              "type": "object",
              "properties": {
                "Credit balance": {
                  "type": "number",
                  "format": "float"
                },
                "Card balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Credit or card not found"
          }
        }
      }
    },
    "/credit-service/{id}/cash-out": {
      "patch": {
        "tags": [
          "Credit Service"
        ],
        "summary": "Cash out from a credit to a card",
        "operationId": "cashOut",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the credit to cash out",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to cash out",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to cash out to",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cash out successful",
            "schema": {
              "type": "object",
              "properties": {
                "Credit balance": {
                  "type": "number",
                  "format": "float"
                },
                "Card balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Credit or card not found"
          }
        }
      }
    },
    "/deposit-service": {
      "get": {
        "tags": [
          "Deposit Service"
        ],
        "summary": "Get all deposits for a bank account",
        "operationId": "getAllDeposits",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "bankAccount",
            "in": "body",
            "description": "Bank account to retrieve deposits for",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccount"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved deposits",
            "schema": {
              "type": "string"
            }
          },
          "404": {
            "description": "Bank account not found"
          }
        }
      }
    },
    "/deposit-service/create": {
      "post": {
        "tags": [
          "Deposit Service"
        ],
        "summary": "Create a new deposit for a bank account",
        "operationId": "createDeposit",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "idBankAccount",
            "in": "body",
            "description": "Bank account ID to create deposit for",
            "required": true,
            "schema": {
              "$ref": "#/definitions/BankAccountIdDTO"
            }
          },
          {
            "name": "depositTerm",
            "in": "query",
            "description": "Deposit term in months",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "responses": {
          "201": {
            "description": "Deposit created successfully"
          },
          "400": {
            "description": "Invalid input data"
          }
        }
      }
    },
    "/deposit-service/{id}/delete": {
      "delete": {
        "tags": [
          "Deposit Service"
        ],
        "summary": "Delete a deposit by ID",
        "operationId": "deleteDeposit",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the deposit to delete",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "Deposit deleted successfully"
          },
          "404": {
            "description": "Deposit not found"
          }
        }
      }
    },
    "/deposit-service/{id}/cash-in": {
      "patch": {
        "tags": [
          "Deposit Service"
        ],
        "summary": "Cash in to a deposit from a card",
        "operationId": "cashIn",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the deposit to cash in",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to cash in",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to cash in from",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cash in successful",
            "schema": {
              "type": "object",
              "properties": {
                "Deposit balance": {
                  "type": "number",
                  "format": "float"
                },
                "Card balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Deposit or card not found"
          }
        }
      }
    },
    "/deposit-service/{id}/cash-out": {
      "patch": {
        "tags": [
          "Deposit Service"
        ],
        "summary": "Cash out from a deposit to a card",
        "operationId": "cashOut",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the deposit to cash out",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "amount",
            "in": "query",
            "description": "Amount to cash out",
            "required": true,
            "type": "number",
            "format": "float"
          },
          {
            "name": "cardTransDTO",
            "in": "body",
            "description": "Card details to cash out to",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CardTransDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cash out successful",
            "schema": {
              "type": "object",
              "properties": {
                "Deposit balance": {
                  "type": "number",
                  "format": "float"
                },
                "Card balance": {
                  "type": "number",
                  "format": "float"
                }
              }
            }
          },
          "404": {
            "description": "Deposit or card not found"
          }
        }
      }
    },
    "/user-service/{id}/update-password": {
      "patch": {
        "tags": [
          "User Service"
        ],
        "summary": "Update user password",
        "operationId": "updatePassword",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "passwordDTO",
            "in": "body",
            "description": "New password",
            "required": true,
            "schema": {
              "$ref": "#/definitions/PasswordDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Password updated successfully"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/user-service/{id}/delete": {
      "delete": {
        "tags": [
          "User Service"
        ],
        "summary": "Delete user by ID",
        "operationId": "deleteUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "responses": {
          "200": {
            "description": "User deleted successfully"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Auth Service"
        ],
        "summary": "Authenticate user and generate JWT token",
        "operationId": "performLogin",
        "consumes": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "userDTO",
            "in": "body",
            "description": "User credentials (username + password)",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserDTO"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully authenticated",
            "schema": {
              "type": "object",
              "properties": {
                "token": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    }
  },
  "definitions": {
    "BankAccountDTO": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "balance": {
          "type": "number",
          "format": "float"
        }
      }
    },
    "BankAccount": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "balance": {
          "type": "number",
          "format": "float"
        }
      }
    },
    "BankAccountIdDTO": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "Card": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "cardNumber": {
          "type": "string"
        },
        "balance": {
          "type": "number",
          "format": "float"
        }
      }
    },
    "CardTransDTO": {
      "type": "object",
      "properties": {
        "cardNumber": {
          "type": "string"
        }
      }
    },
    "Credit": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "loanDebt": {
          "type": "number",
          "format": "float"
        }
      }
    },
    "Deposit": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "balance": {
          "type": "number",
          "format": "float"
        }
      }
    },
    "UserDTO": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "PasswordDTO": {
      "type": "object",
      "properties": {
        "password": {
          "type": "string"
        }
      }
    }
  }
}